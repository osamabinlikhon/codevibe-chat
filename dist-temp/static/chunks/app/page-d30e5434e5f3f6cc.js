(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7544:function(e,s,t){Promise.resolve().then(t.bind(t,1666))},1666:function(e,s,t){"use strict";t.d(s,{default:function(){return z}});var n=t(7437),r=t(2265),i=t(1994),a=t(3335);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,i.W)(s))}var c=t(221),d=t(2222),o=t(2369);function x(e){let{code:s,output:t}=e;return(0,n.jsxs)("div",{className:"mt-3 rounded-lg overflow-hidden bg-zinc-900 border border-zinc-700/50",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 bg-zinc-800/50 border-b border-zinc-700/50",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.Z,{className:"w-3.5 h-3.5 text-zinc-400"}),(0,n.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"Python"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,n.jsx)("span",{className:"text-xs text-zinc-500",children:"Executed"})]})]}),(0,n.jsxs)("div",{className:"p-3 font-mono text-sm",children:[(0,n.jsx)("pre",{className:"text-zinc-300 whitespace-pre-wrap break-words",children:s}),t&&(0,n.jsx)("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:(0,n.jsx)("pre",{className:"text-emerald-400 whitespace-pre-wrap break-words",children:t})})]})]})}function m(e){let{toolInvocation:s}=e;if("result"!==s.state)return(0,n.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500 text-sm py-2",children:[(0,n.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full"}),(0,n.jsx)("span",{children:"Executing code..."})]});let t=s.result;return(null==t?void 0:t.code)?(0,n.jsx)(x,{code:t.code,output:t.stdout||t.stderr}):null}function u(e){let{message:s}=e,t="user"===s.role;return(s.role,"data"===s.role)?null:(0,n.jsxs)("div",{className:l("flex gap-3 p-4",t?"justify-end":"justify-start"),children:[!t&&(0,n.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,n.jsx)(d.Z,{className:"w-4 h-4 text-white"})}),(0,n.jsxs)("div",{className:l("flex flex-col max-w-[80%]",t?"items-end":"items-start"),children:[(0,n.jsx)("div",{className:l("rounded-2xl px-4 py-2.5",t?"bg-indigo-600 text-white rounded-tr-sm":"bg-zinc-800/80 text-zinc-100 rounded-tl-sm"),children:s.content&&(0,n.jsx)("div",{className:"whitespace-pre-wrap leading-relaxed",children:s.content})}),s.toolInvocations&&s.toolInvocations.length>0&&(0,n.jsx)("div",{className:"mt-2 w-full max-w-md",children:s.toolInvocations.map(e=>(0,n.jsx)(m,{toolInvocation:e},e.toolCallId))}),t&&(0,n.jsx)("div",{className:"flex items-center gap-1 mt-1 text-zinc-500",children:(0,n.jsx)(o.Z,{className:"w-3 h-3"})})]})]})}var h=t(1662),f=t(5293);let p=(0,t(535).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:a=!1,...c}=e,d=a?f.g7:"button";return(0,n.jsx)(d,{className:l(p({variant:r,size:i,className:t})),ref:s,...c})});b.displayName="Button";let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)("textarea",{className:l("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});g.displayName="Textarea";var v=t(2023),j=t(1641),N=t(4743);function w(e){let{input:s,handleInputChange:t,handleSubmit:i,isLoading:a,stop:c,placeholder:d="Ask me anything, or request code execution..."}=e,o=(0,r.useRef)(null),x=(0,r.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),s.trim()&&!a&&i(e))},[s,a,i]);return(0,r.useEffect)(()=>{o.current&&(o.current.style.height="auto",o.current.style.height="".concat(Math.min(o.current.scrollHeight,200),"px"))},[s]),(0,n.jsxs)("div",{className:"w-full max-w-3xl mx-auto",children:[(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&!a&&i(e)},className:"relative flex items-end gap-2 p-4",children:[(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(g,{ref:o,value:s,onChange:t,onKeyDown:x,placeholder:d,className:"min-h-[56px] max-h-[200px] pr-12 resize-none rounded-2xl bg-zinc-800/50 border-zinc-700/50 focus:bg-zinc-800/80 transition-all duration-200",rows:1,disabled:a}),(0,n.jsx)("div",{className:"absolute right-3 bottom-3 flex items-center gap-1",children:(0,n.jsx)(v.Z,{className:"w-4 h-4 text-zinc-500"})})]}),(0,n.jsx)(b,{type:"submit",disabled:a||!s.trim(),size:"icon",className:l("rounded-full h-12 w-12 transition-all duration-200",a?"bg-zinc-700":"bg-indigo-600 hover:bg-indigo-500 shadow-lg shadow-indigo-500/25"),children:a?(0,n.jsx)(j.Z,{className:"w-5 h-5 animate-pulse"}):(0,n.jsx)(N.Z,{className:"w-5 h-5"})})]}),(0,n.jsx)("p",{className:"text-center text-xs text-zinc-500 pb-4",children:"Press Enter to send, Shift + Enter for new line"})]})}var y=t(1239);function z(){let{messages:e,input:s,handleInputChange:t,handleSubmit:i,isLoading:a,stop:l,reload:c,error:o}=(0,h.RJ)({api:"/api/chat"}),x=(0,r.useRef)(null),m=(0,r.useRef)(null),f=()=>{var e;null===(e=x.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return(0,r.useEffect)(()=>{f()},[e,a]),(0,n.jsxs)("div",{className:"flex flex-col h-[100dvh] bg-zinc-950 text-zinc-100",children:[(0,n.jsxs)("header",{className:"flex-shrink-0 flex items-center justify-between px-4 py-3 border-b border-zinc-800/50 backdrop-blur-md bg-zinc-950/80 sticky top-0 z-50",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,n.jsx)(y.Z,{className:"w-4 h-4 text-white"})}),(0,n.jsx)("span",{className:"font-semibold text-lg",children:"CodeVibe"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[(0,n.jsx)(d.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Llama 3.3 70B"})]})]}),o&&(0,n.jsx)("div",{className:"flex-shrink-0 px-4 py-3 bg-red-500/10 border-b border-red-500/20",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto flex items-center gap-2 text-red-400 text-sm",children:[(0,n.jsx)("span",{className:"font-medium",children:"Connection Error:"}),(0,n.jsx)("span",{children:o.message}),(0,n.jsx)("button",{onClick:()=>c(),className:"ml-auto px-3 py-1 bg-red-500/20 hover:bg-red-500/30 rounded-md transition-colors",children:"Retry"})]})}),(0,n.jsx)("div",{ref:m,className:"flex-1 overflow-y-auto scroll-smooth",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto py-6",children:[0===e.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] text-center px-4",children:[(0,n.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500/20 to-purple-600/20 border border-indigo-500/30 flex items-center justify-center mb-4",children:(0,n.jsx)(d.Z,{className:"w-8 h-8 text-indigo-400"})}),(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Ready to code together"}),(0,n.jsx)("p",{className:"text-zinc-500 max-w-md",children:"Ask me to write, analyze, or execute code. I can run Python in a secure sandbox and help you build anything."}),(0,n.jsx)("div",{className:"mt-8 flex flex-wrap justify-center gap-2",children:["Create a Fibonacci generator","Plot a sine wave","Analyze this data","Build a REST API"].map(e=>(0,n.jsx)("button",{onClick:()=>{t({target:{value:e}})},className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-full text-sm text-zinc-300 transition-colors",children:e},e))})]}):e.map(e=>(0,n.jsx)(u,{message:e},e.id)),a&&(0,n.jsxs)("div",{className:"flex gap-3 p-4 justify-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,n.jsx)(d.Z,{className:"w-4 h-4 text-white"})}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("span",{className:"w-2 h-2 bg-zinc-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,n.jsx)("span",{className:"w-2 h-2 bg-zinc-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,n.jsx)("span",{className:"w-2 h-2 bg-zinc-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),(0,n.jsx)("span",{className:"text-sm",children:"Thinking..."})]})]}),(0,n.jsx)("div",{ref:x})]})}),(0,n.jsx)("div",{className:"flex-shrink-0 border-t border-zinc-800/50 bg-zinc-950/95 backdrop-blur supports-[backdrop-filter]:bg-zinc-950/60",children:(0,n.jsx)(w,{input:s,handleInputChange:t,handleSubmit:e=>{e.preventDefault(),s.trim()&&!a&&i(e)},isLoading:a,stop:l})})]})}}},function(e){e.O(0,[172,971,117,744],function(){return e(e.s=7544)}),_N_E=e.O()}]);